<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="781px" preserveAspectRatio="none" style="width:848px;height:781px;" version="1.1" viewBox="0 0 848 781" width="848px" zoomAndPan="magnify"><defs><filter height="300%" id="fkjfva22mt3f2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[521817ab83e81da341a3f4b5e91bae41]
class Command--><rect fill="#FEFECE" filter="url(#fkjfva22mt3f2)" height="75.6719" id="Command" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="366.5" y="49.5"/><ellipse cx="417.25" cy="65.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M419.4375,67.2656 L415.2969,67.2656 L414.875,68.2969 L415.2969,68.2969 Q415.9063,68.2969 416.1719,68.5313 Q416.4375,68.7656 416.4375,69.1563 Q416.4375,69.5313 416.1719,69.7656 Q415.9063,70 415.2969,70 L413,70 Q412.3906,70 412.1406,69.7656 Q411.875,69.5313 411.875,69.1406 Q411.875,68.7656 412.1563,68.5313 Q412.4219,68.2813 413.0469,68.2969 L415.7188,61.6406 L414.6094,61.6406 Q414,61.6406 413.7344,61.4063 Q413.4688,61.1719 413.4688,60.7813 Q413.4688,60.4063 413.7344,60.1719 Q414,59.9375 414.6094,59.9375 L418.2813,59.9375 L421.6719,68.2969 Q422.2656,68.2969 422.4531,68.4375 Q422.8438,68.7031 422.8438,69.1563 Q422.8438,69.5313 422.5781,69.7656 Q422.3281,70 421.7188,70 L419.4219,70 Q418.8125,70 418.5469,69.7656 Q418.2813,69.5313 418.2813,69.1406 Q418.2813,68.7656 418.5469,68.5313 Q418.8125,68.2969 419.4219,68.2969 L419.8438,68.2969 L419.4375,67.2656 Z M418.7188,65.5625 L417.3594,62.1875 L415.9844,65.5625 L418.7188,65.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="437.75" y="70.4102">Command</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="367.5" x2="534.5" y1="81.5" y2="81.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="367.5" x2="534.5" y1="89.5" y2="89.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="157" x="372.5" y="104.9189">+execute(DukeCore core) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="372.5" y="118.7549">+getHelp() : String</text><!--MD5=[351ec9e89f98c22ada9d1953381b4ac0]
class ArgCommand--><rect fill="#FEFECE" filter="url(#fkjfva22mt3f2)" height="241.7031" id="ArgCommand" style="stroke: #A80036; stroke-width: 1.5;" width="323" x="179.5" y="228"/><ellipse cx="297.75" cy="244" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M299.9375,245.7656 L295.7969,245.7656 L295.375,246.7969 L295.7969,246.7969 Q296.4063,246.7969 296.6719,247.0313 Q296.9375,247.2656 296.9375,247.6563 Q296.9375,248.0313 296.6719,248.2656 Q296.4063,248.5 295.7969,248.5 L293.5,248.5 Q292.8906,248.5 292.6406,248.2656 Q292.375,248.0313 292.375,247.6406 Q292.375,247.2656 292.6563,247.0313 Q292.9219,246.7813 293.5469,246.7969 L296.2188,240.1406 L295.1094,240.1406 Q294.5,240.1406 294.2344,239.9063 Q293.9688,239.6719 293.9688,239.2813 Q293.9688,238.9063 294.2344,238.6719 Q294.5,238.4375 295.1094,238.4375 L298.7813,238.4375 L302.1719,246.7969 Q302.7656,246.7969 302.9531,246.9375 Q303.3438,247.2031 303.3438,247.6563 Q303.3438,248.0313 303.0781,248.2656 Q302.8281,248.5 302.2188,248.5 L299.9219,248.5 Q299.3125,248.5 299.0469,248.2656 Q298.7813,248.0313 298.7813,247.6406 Q298.7813,247.2656 299.0469,247.0313 Q299.3125,246.7969 299.9219,246.7969 L300.3438,246.7969 L299.9375,245.7656 Z M299.2188,244.0625 L297.8594,240.6875 L296.4844,244.0625 L299.2188,244.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="78" x="318.25" y="248.9102">ArgCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="180.5" x2="501.5" y1="260" y2="260"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="185.5" y="275.4189">-arg : String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="185.5" y="289.2549">-switchVals : HashMap&lt;String, String&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="180.5" x2="501.5" y1="295.6719" y2="295.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="185.5" y="311.0908">+execute(DukeCore core) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="185.5" y="324.9268">+getHelp() : String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="311" x="185.5" y="338.7627">~setSwitchValsMap(HashMap&lt;String, String&gt; switchVals) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="185.5" y="352.5986">~setSwitchVal(String switchName, String value) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="207" x="185.5" y="366.4346">~getSwitchVal(String switchName) : String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="185.5" y="380.2705">~setArg(String arg) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="185.5" y="394.1064">~getArg() : String</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="105" x="185.5" y="407.9424">~getSpec() : ArgSpec</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="135" x="185.5" y="421.7783">+getEmptyArgMsg() : String</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="147" x="185.5" y="435.6143">+getCmdArgLevel() : ArgLevel</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="191" x="185.5" y="449.4502">+getSwitchMap() : Map&lt;String, Switch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="204" x="185.5" y="463.2861">+getSwitchAliases() : Map&lt;String, String&gt;</text><path d="M6,58 L6,117.0547 L184,117.0547 L184,68 L174,58 L6,58 " fill="#FBFB77" filter="url(#fkjfva22mt3f2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M174,58 L174,68 L184,68 L174,58 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="12" y="76.4951">ArgCommand accesses its</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="12" y="92.8467">corresponding ArgSpec</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="12" y="109.1982">singleton via getSpec()</text><!--MD5=[92229cf7b2d8a1816cafdeb481f23a45]
class ArgSpec--><rect fill="#FEFECE" filter="url(#fkjfva22mt3f2)" height="222.2188" id="ArgSpec" style="stroke: #A80036; stroke-width: 1.5;" width="214" x="234" y="548"/><ellipse cx="305.75" cy="568.0938" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M307.9375,569.8594 L303.7969,569.8594 L303.375,570.8906 L303.7969,570.8906 Q304.4063,570.8906 304.6719,571.125 Q304.9375,571.3594 304.9375,571.75 Q304.9375,572.125 304.6719,572.3594 Q304.4063,572.5938 303.7969,572.5938 L301.5,572.5938 Q300.8906,572.5938 300.6406,572.3594 Q300.375,572.125 300.375,571.7344 Q300.375,571.3594 300.6563,571.125 Q300.9219,570.875 301.5469,570.8906 L304.2188,564.2344 L303.1094,564.2344 Q302.5,564.2344 302.2344,564 Q301.9688,563.7656 301.9688,563.375 Q301.9688,563 302.2344,562.7656 Q302.5,562.5313 303.1094,562.5313 L306.7813,562.5313 L310.1719,570.8906 Q310.7656,570.8906 310.9531,571.0313 Q311.3438,571.2969 311.3438,571.75 Q311.3438,572.125 311.0781,572.3594 Q310.8281,572.5938 310.2188,572.5938 L307.9219,572.5938 Q307.3125,572.5938 307.0469,572.3594 Q306.7813,572.125 306.7813,571.7344 Q306.7813,571.3594 307.0469,571.125 Q307.3125,570.8906 307.9219,570.8906 L308.3438,570.8906 L307.9375,569.8594 Z M307.2188,568.1563 L305.8594,564.7813 L304.4844,568.1563 L307.2188,568.1563 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="324.25" y="565.457">«Singleton»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="47" x="333.75" y="580.5508">ArgSpec</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="235" x2="447" y1="588.1875" y2="588.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="240" y="603.6064">#emptyArgMsg : String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="240" y="617.4424">#cmdArgLevel : ArgLevel</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="240" y="631.2783">#switchMap : Map&lt;String, Switch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="240" y="645.1143">#switchAliases : Map&lt;String, String&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="80" x="240" y="658.9502">-spec : ArgSpec</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="235" x2="447" y1="665.3672" y2="665.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="240" y="680.7861">-ArgSpec()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="106" x="240" y="694.6221">+getSpec() : ArgSpec</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="240" y="708.458">+getCmdArgLevel() : ArgLevel</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="240" y="722.2939">+getSwitchMap() : Map&lt;String, Switch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="202" x="240" y="736.1299">+getSwitchAliases() : Map&lt;String, String&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="240" y="749.9658">+getEmptyArgMsg() : String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="190" x="240" y="763.8018">#initSwitches(Switch[] switches) : void</text><!--MD5=[dcb38af11fbc5504883bdba00db6db38]
class ArgLevel--><rect fill="#FEFECE" filter="url(#fkjfva22mt3f2)" height="97.6953" id="ArgLevel" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="219" y="38.5"/><ellipse cx="234" cy="58.5938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236.7656,54.4688 Q236.9219,54.25 237.1094,54.1406 Q237.2969,54.0313 237.5156,54.0313 Q237.8906,54.0313 238.125,54.2969 Q238.3594,54.5469 238.3594,55.1563 L238.3594,56.6094 Q238.3594,57.2188 238.125,57.4844 Q237.8906,57.75 237.5156,57.75 Q237.1719,57.75 236.9688,57.5469 Q236.7656,57.3594 236.6563,56.8438 Q236.6094,56.4844 236.4219,56.2969 Q236.0938,55.9219 235.4844,55.7031 Q234.875,55.4844 234.25,55.4844 Q233.4844,55.4844 232.8438,55.8125 Q232.2188,56.1406 231.7188,56.8906 Q231.2344,57.6406 231.2344,58.6719 L231.2344,59.7656 Q231.2344,61 232.125,61.8281 Q233.0156,62.6406 234.6094,62.6406 Q235.5469,62.6406 236.2031,62.3906 Q236.5938,62.2344 237.0156,61.7969 Q237.2813,61.5313 237.4219,61.4531 Q237.5781,61.375 237.7813,61.375 Q238.1094,61.375 238.3594,61.6406 Q238.625,61.8906 238.625,62.2344 Q238.625,62.5781 238.2813,62.9844 Q237.7813,63.5625 236.9844,63.8906 Q235.9063,64.3438 234.6094,64.3438 Q233.0938,64.3438 231.8906,63.7188 Q230.9063,63.2188 230.2188,62.1563 Q229.5313,61.0781 229.5313,59.7969 L229.5313,58.6406 Q229.5313,57.3125 230.1406,56.1719 Q230.7656,55.0156 231.8594,54.4063 Q232.9531,53.7813 234.1875,53.7813 Q234.9219,53.7813 235.5625,53.9531 Q236.2188,54.1094 236.7656,54.4688 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="246" y="55.957">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="264.5" y="71.0508">ArgLevel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="220" x2="330" y1="78.6875" y2="78.6875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="225" y="94.1064">NONE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="225" y="107.9424">OPTIONAL</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="225" y="121.7783">REQUIRED</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="220" x2="330" y1="128.1953" y2="128.1953"/><!--MD5=[7e68ee526bacd5d3b5b4ed7f8a923c39]
class Switch--><rect fill="#FEFECE" filter="url(#fkjfva22mt3f2)" height="158.6875" id="Switch" style="stroke: #A80036; stroke-width: 1.5;" width="267" x="570.5" y="8"/><ellipse cx="681.75" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M684.5156,19.875 Q684.6719,19.6563 684.8594,19.5469 Q685.0469,19.4375 685.2656,19.4375 Q685.6406,19.4375 685.875,19.7031 Q686.1094,19.9531 686.1094,20.5625 L686.1094,22.0156 Q686.1094,22.625 685.875,22.8906 Q685.6406,23.1563 685.2656,23.1563 Q684.9219,23.1563 684.7188,22.9531 Q684.5156,22.7656 684.4063,22.25 Q684.3594,21.8906 684.1719,21.7031 Q683.8438,21.3281 683.2344,21.1094 Q682.625,20.8906 682,20.8906 Q681.2344,20.8906 680.5938,21.2188 Q679.9688,21.5469 679.4688,22.2969 Q678.9844,23.0469 678.9844,24.0781 L678.9844,25.1719 Q678.9844,26.4063 679.875,27.2344 Q680.7656,28.0469 682.3594,28.0469 Q683.2969,28.0469 683.9531,27.7969 Q684.3438,27.6406 684.7656,27.2031 Q685.0313,26.9375 685.1719,26.8594 Q685.3281,26.7813 685.5313,26.7813 Q685.8594,26.7813 686.1094,27.0469 Q686.375,27.2969 686.375,27.6406 Q686.375,27.9844 686.0313,28.3906 Q685.5313,28.9688 684.7344,29.2969 Q683.6563,29.75 682.3594,29.75 Q680.8438,29.75 679.6406,29.125 Q678.6563,28.625 677.9688,27.5625 Q677.2813,26.4844 677.2813,25.2031 L677.2813,24.0469 Q677.2813,22.7188 677.8906,21.5781 Q678.5156,20.4219 679.6094,19.8125 Q680.7031,19.1875 681.9375,19.1875 Q682.6719,19.1875 683.3125,19.3594 Q683.9688,19.5156 684.5156,19.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="702.25" y="28.9102">Switch</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="571.5" x2="836.5" y1="40" y2="40"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="576.5" y="55.4189">+String name</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="576.5" y="69.2549">+Class type</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="576.5" y="83.0908">+boolean isOptional</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="576.5" y="96.9268">+ArgLevel argLevel</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="576.5" y="110.7627">+String root,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="576.5" y="124.5986">+List&lt;String&gt; aliases</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="571.5" x2="836.5" y1="131.0156" y2="131.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="576.5" y="146.4346">+Switch(String name, Class type, boolean isOptional,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="576.5" y="160.2705">ArgLevel argLevel, String root, String[] aliases)</text><path d="M483.5,621.5 L483.5,655 L448.2617,659 L483.5,663 L483.5,696.9063 A0,0 0 0 0 483.5,696.9063 L684.5,696.9063 A0,0 0 0 0 684.5,696.9063 L684.5,631.5 L674.5,621.5 L483.5,621.5 A0,0 0 0 0 483.5,621.5 " fill="#FBFB77" filter="url(#fkjfva22mt3f2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M674.5,621.5 L674.5,631.5 L684.5,631.5 L674.5,621.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="489.5" y="639.9951">This is a simplification;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="489.5" y="656.3467">all static fields and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="489.5" y="672.6982">singleton behaviour have to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="489.5" y="689.0498">be implemented in subclasses.</text><!--MD5=[b1a0f9891b120c5cf3e40e46b33785a2]
link specCommandNote to ArgCommand--><path d="M122.9798,117.2428 C148.6696,144.5513 188.4991,186.8903 227.1224,227.9472 " fill="none" id="specCommandNote-ArgCommand" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[c7db8779ae1be7a669659b11de19ea70]
link specCommandNote to ArgSpec--><path d="M94.5216,117.1082 C94.6108,183.8355 101.4386,349.5314 162,470 C179.8627,505.5325 206.5962,538.9694 233.9911,567.5528 " fill="none" id="specCommandNote-ArgSpec" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[cc1b2274c613312a32a3c01a17d48041]
reverse link Command to ArgCommand--><path d="M427.2155,144.0422 C416.8527,168.6774 404.2796,198.5671 391.9765,227.8151 " fill="none" id="Command&lt;-ArgCommand" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="420.7978,141.2455,435.0051,125.5243,433.7025,146.6739,420.7978,141.2455" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[9eefa155e23d7c3cd6e5f4da81311456]
reverse link ArgLevel to ArgCommand--><path d="M288.6599,141.6221 C294.989,166.6988 302.7848,197.5867 310.4083,227.7919 " fill="none" id="ArgLevel&lt;-ArgCommand" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="287.4141,136.6861,285.7385,146.3914,288.6378,141.534,293.4952,144.4334,287.4141,136.6861" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[abda6193cbe1b7151cd461f3f41eeb3f]
reverse link Switch to ArgCommand--><path d="M578.5001,170.1023 C565.42,179.0659 552.3872,188.1474 540,197 C526.1173,206.9214 511.8137,217.3736 497.5446,227.9605 " fill="none" id="Switch&lt;-ArgCommand" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="582.937,167.0675,573.2502,168.847,578.8101,169.8903,577.7668,175.4501,582.937,167.0675" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[548d82b3be8e0501a2b5f333cd67a59f]
reverse link Switch to ArgSpec--><path d="M674.9013,172.084 C641.126,263.0265 579.4721,409.1833 498,518 C496.7032,519.7321 474.9702,539.3988 448.0654,563.5232 " fill="none" id="Switch&lt;-ArgSpec" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="676.6874,167.2559,669.8132,174.3089,674.9526,171.9453,677.3162,177.0847,676.6874,167.2559" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="653.5975" y="188.0458">0..*</text><!--MD5=[f10c6aba6181244561dbdd435b20e0ad]
reverse link ArgCommand to ArgSpec--><path d="M341,483.4632 C341,504.9224 341,526.9161 341,547.7598 " fill="none" id="ArgCommand&lt;-ArgSpec" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="341,470.186,337,476.186,341,482.186,345,476.186,341,470.186" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="404.5,511,407.5,505,410.5,511,404.5,511" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="342" y="527.4951">specifies parameters of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="333.7648" y="537.2479">1</text><!--MD5=[671968d1f790b97b3f47c473b3d82114]
@startuml
skinparam classAttributeIconSize 0 

abstract class Command {
  {abstract} +execute(DukeCore core) : void
  +getHelp() : String
}

abstract class ArgCommand {
  -arg : String
  -switchVals : HashMap<String, String>
  +execute(DukeCore core) : void
  +getHelp() : String 
  ~setSwitchValsMap(HashMap<String, String> switchVals) : void
  ~setSwitchVal(String switchName, String value) : void
  ~getSwitchVal(String switchName) : String
  ~setArg(String arg) : void
  ~getArg() : String
  {abstract} ~getSpec() : ArgSpec
  {abstract} +getEmptyArgMsg() : String
  {abstract} +getCmdArgLevel() : ArgLevel
  {abstract} +getSwitchMap() : Map<String, Switch>
  {abstract} +getSwitchAliases() : Map<String, String>
}

note "ArgCommand accesses its\ncorresponding ArgSpec\nsingleton via getSpec()" as specCommandNote
specCommandNote .. ArgCommand
specCommandNote .. ArgSpec

class ArgLevel <<enumeration>> {
  NONE
  OPTIONAL
  REQUIRED
}

class Switch {
  +String name
  +Class type 
  +boolean isOptional
  +ArgLevel argLevel
  +String root, 
  +List<String> aliases
  +Switch(String name, Class type, boolean isOptional,\nArgLevel argLevel, String root, String[] aliases)
}

abstract class ArgSpec <<Singleton>> {
    #emptyArgMsg : String
    #cmdArgLevel : ArgLevel 
    #switchMap : Map<String, Switch> 
    #switchAliases : Map<String, String> 
    -spec : ArgSpec {static}
    -ArgSpec()
    +getSpec() : ArgSpec {static}
    +getCmdArgLevel() : ArgLevel
    +getSwitchMap() : Map<String, Switch>
    +getSwitchAliases() : Map<String, String>
    +getEmptyArgMsg() : String 
    #initSwitches(Switch[] switches) : void
}

note right of ArgSpec : This is a simplification;\nall static fields and\nsingleton behaviour have to\nbe implemented in subclasses.

Command <|- - ArgCommand 
ArgLevel <.. ArgCommand
Switch <.. ArgCommand
Switch "0..*" <- - ArgSpec
ArgCommand *- - "1" ArgSpec : < specifies parameters of

@enduml

PlantUML version 1.2019.11(Sun Sep 22 18:02:15 SGT 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: SG
--></g></svg>